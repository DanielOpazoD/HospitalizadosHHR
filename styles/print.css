@media print {
  @page {
    margin: 10mm 10mm 10mm 10mm;
    background: white;
  }

  /* Force white background on root elements and use system fonts */
  html,
  body,
  #root,
  main {
    background: white !important;
    font-family: system-ui, -apple-system, sans-serif !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }

  /* 
   * Targeted reset instead of aggressive universal selector (*).
   * Removing backgrounds/shadows only where needed to prevent
   * heavy rasterization while keeping checklist/header colors.
   */

  /* Reset shadows and filters globally for performance */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
    filter: none !important;
    backdrop-filter: none !important;
    list-style: none !important;
    list-style-type: none !important;
  }

  /* Force hide all list markers */
  *::marker {
    content: none !important;
    display: none !important;
    font-size: 0 !important;
  }

  /* Hide common decorative elements */
  ::-webkit-scrollbar {
    display: none;
  }

  /* Disable animations */
  .animate-fade-in,
  .animate-scale-in {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
    transition: none !important;
  }

  /* Ensure print header visibility */
  .handoff-cudyr-print {
    display: block !important;
    background: white !important;
    page-break-before: always;
    page-break-inside: avoid;
  }

  /* Table optimizations */
  table,
  tr,
  td,
  th {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Hide empty elements that might render as orphan bullets */
  div:empty,
  span:empty,
  p:empty {
    display: none !important;
  }

  /* Force hide any element that only contains a space-y gap marker */
  .space-y-3>*:last-child:empty,
  .space-y-2>*:last-child:empty {
    display: none !important;
  }
}